<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Decodes and verifies a trie proof."><title>smoldot::trie::proof_decode - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="smoldot" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0 (ded5c06cf 2025-12-08)" data-channel="1.92.0" data-search-js="search-d69d8955.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module proof_decode</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../smoldot/index.html">smoldot</a><span class="version">0.21.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module proof_<wbr>decode</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#details" title="Details">Details</a></li><li><a href="#usage" title="Usage">Usage</a></li></ul><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In smoldot::<wbr>trie</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">smoldot</a>::<wbr><a href="../index.html">trie</a></div><h1>Module <span>proof_<wbr>decode</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/smoldot/trie/proof_decode.rs.html#18-1794">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Decodes and verifies a trie proof.</p>
<p>A trie proof is a proof that a certain key in the trie has a certain storage value (or lacks
a storage value). The proof can be verified by knowing only the Merkle value of the root node.</p>
<h2 id="details"><a class="doc-anchor" href="#details">§</a>Details</h2>
<blockquote>
<p><strong>Note</strong>: For reminder, the Merkle value of a node is the hash of its node value, or the
node value directly if its length is smaller than 32 bytes.</p>
</blockquote>
<p>A trie proof consists in a list of node values of nodes in the trie. For the proof to be valid,
the hash of one of these node values must match the expected trie root node value. Since a
node value contains the Merkle values of the children of the node, it is possible to iterate
down the hierarchy of nodes until the one closest to the desired key is found.</p>
<h2 id="usage"><a class="doc-anchor" href="#usage">§</a>Usage</h2>
<p>This modules provides the <a href="fn.decode_and_verify_proof.html" title="fn smoldot::trie::proof_decode::decode_and_verify_proof"><code>decode_and_verify_proof</code></a> function that decodes a proof and
verifies whether it is correct.</p>
<p>Once decoded, one can examine the content of the proof, in other words the list of storage
items and values.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.Children.html" title="struct smoldot::trie::proof_decode::Children">Children</a></dt><dd>See <a href="struct.TrieNodeInfo.html#structfield.children" title="field smoldot::trie::proof_decode::TrieNodeInfo::children"><code>TrieNodeInfo::children</code></a>.</dd><dt><a class="struct" href="struct.Config.html" title="struct smoldot::trie::proof_decode::Config">Config</a></dt><dd>Configuration to pass to <a href="fn.decode_and_verify_proof.html" title="fn smoldot::trie::proof_decode::decode_and_verify_proof"><code>decode_and_verify_proof</code></a>.</dd><dt><a class="struct" href="struct.DecodedTrieProof.html" title="struct smoldot::trie::proof_decode::DecodedTrieProof">Decoded<wbr>Trie<wbr>Proof</a></dt><dd>Decoded Merkle proof. The proof is guaranteed valid.</dd><dt><a class="struct" href="struct.EntryKey.html" title="struct smoldot::trie::proof_decode::EntryKey">Entry<wbr>Key</a></dt><dd>Identifier for an entry within a decoded proof.</dd><dt><a class="struct" href="struct.EntryKeyIter.html" title="struct smoldot::trie::proof_decode::EntryKeyIter">Entry<wbr>KeyIter</a></dt><dt><a class="struct" href="struct.IncompleteProofError.html" title="struct smoldot::trie::proof_decode::IncompleteProofError">Incomplete<wbr>Proof<wbr>Error</a></dt><dd>Proof doesn’t contain enough information to answer the request.</dd><dt><a class="struct" href="struct.ParseError.html" title="struct smoldot::trie::proof_decode::ParseError">Parse<wbr>Error</a></dt><dd>Proof is in an invalid format.</dd><dt><a class="struct" href="struct.ProofEntry.html" title="struct smoldot::trie::proof_decode::ProofEntry">Proof<wbr>Entry</a></dt><dd>Information about an entry in the proof.</dd><dt><a class="struct" href="struct.TrieNodeInfo.html" title="struct smoldot::trie::proof_decode::TrieNodeInfo">Trie<wbr>Node<wbr>Info</a></dt><dd>Information about a node of the trie.</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.Child.html" title="enum smoldot::trie::proof_decode::Child">Child</a></dt><dd>Information about a specific child in the list of children.</dd><dt><a class="enum" href="enum.Error.html" title="enum smoldot::trie::proof_decode::Error">Error</a></dt><dd>Possible error returned by <a href="fn.decode_and_verify_proof.html" title="fn smoldot::trie::proof_decode::decode_and_verify_proof"><code>decode_and_verify_proof</code></a>.</dd><dt><a class="enum" href="enum.StorageValue.html" title="enum smoldot::trie::proof_decode::StorageValue">Storage<wbr>Value</a></dt><dd>Storage value of the node.</dd></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.decode_and_verify_proof.html" title="fn smoldot::trie::proof_decode::decode_and_verify_proof">decode_<wbr>and_<wbr>verify_<wbr>proof</a></dt><dd>Verifies whether a proof is correct and returns an object that allows examining its content.</dd><dt><a class="fn" href="fn.decode_proof.html" title="fn smoldot::trie::proof_decode::decode_proof">decode_<wbr>proof</a></dt><dd>Decomposes the given proof into its entries.</dd></dl></section></div></main></body></html>